<!DOCTYPE html>
<html>
<head>
  <title>Brand Dashboard | TechVyro</title>

  <style>
    /* ===== PAGE LOADER ===== */
    #pageLoader {
      position: fixed;
      inset: 0;
      background: #020617;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .spinner {
      width: 46px;
      height: 46px;
      border: 4px solid #334155;
      border-top: 4px solid #38bdf8;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>

  <!-- üî• ADDED: PREMIUM CSS (ONLY ADD) -->
  <link rel="stylesheet" href="../css/premium.css">

```html  <script type="module" src="./js/auth-guard.js"></script>
</head>

<body>

<!-- PAGE LOADER -->
<div id="pageLoader">
  <div class="spinner"></div>
</div>

<h2>Brand / Agency Dashboard</h2>

<!-- üî• ADDED: PREMIUM WRAPPER (BRAND DASHBOARD LOCK) -->
<div class="premium-only">

  <ul>
    <li>Active Campaigns: 2</li>
    <li>Total Budget: ‚Çπ50,000</li>
    <li>Creators Booked: 5</li>
  </ul>

  <hr>

  <!-- üî• ADDED: premium-btn CLASS -->
  <button type="button" class="premium-btn">Create New Campaign</button>

</div>
<!-- üî• END PREMIUM WRAPPER -->

<br><br>

<a href="dashboard.html">‚Üê Back to Dashboard</a>

<!-- ORIGINAL LOADER LOGIC (UNCHANGED) -->
<script>
  window.addEventListener("load", () => {
    document.getElementById("pageLoader").style.display = "none";
  });
</script>

<!-- ORIGINAL AUTO HIDE LOADER JS (UNCHANGED) -->
<script>
  window.addEventListener("load", () => {
    document.body.classList.add("loaded");
  });
</script>

<!-- ================= STEP-5 ADD START (AUTH SECURITY) ================= -->
<script type="module">
  import { auth } from "../js/firebase.js";

  auth.onAuthStateChanged(user => {
    if (!user) {
      location.href = "login.html";
    }
  });
</script>
<!-- ================= STEP-5 ADD END ================= -->

<!-- üî• ADDED: PREMIUM GUARD SCRIPTS (ONLY ADD) -->
<script src="../js/auth-plan.js"></script>
<script src="../js/premium-guard.js"></script>

<!-- ================= üîê STEP-6 ADD START (ROLE + PREMIUM CHECK) ================= -->
<script>
  const sessionUser = JSON.parse(localStorage.getItem("user"));

  if (!sessionUser) {
    location.href = "login.html";
  } else {
    // ‚ùå Normal users not allowed
    if (sessionUser.role === "user") {
      location.href = "dashboard.html";
    }

    // ‚ùå Admin but not premium
    if (
      (sessionUser.role === "admin" || sessionUser.role === "super-admin") &&
      !sessionUser.isPremium
    ) {
      location.href = "pricing.html";
    }
  }
</script>
<!-- ================= üîê STEP-6 ADD END ================= -->

</body>
</html>
